define(["./AttributeCompression-f9972ce8","./Cartographic-dafe811b","./Rectangle-49e286b5","./IndexDatatype-447558fc","./Math-bae672f2","./createTaskProcessorWorker","./Cartesian2-4a5e3b0e","./Check-07c613bc","./when-207a1520","./WebGLConstants-8d1e45f7"],(function(t,a,e,r,n,u,c,f,s,i){"use strict";var o=32767,p=new a.t$1,b=new a.t;var d=new e.h,w=new e.t,h=new a.t,y={min:void 0,max:void 0};var k=new a.t,v=new a.t,l=new a.t,A=new a.t,g=new a.t;return u((function(u,c){var f=new Uint16Array(u.positions),s=new Uint16Array(u.widths),i=new Uint32Array(u.counts),x=new Uint16Array(u.batchIds);!function(t){t=new Float64Array(t);var r=0;y.min=t[r++],y.max=t[r++],e.h.unpack(t,r,d),r+=e.h.packedLength,e.t.unpack(t,r,w),r+=e.t.packedLength,a.t.unpack(t,r,h)}(u.packedBuffer);var D,I=w,m=h,E=function(e,r,u,c,f){var s=e.length/3,i=e.subarray(0,s),d=e.subarray(s,2*s),w=e.subarray(2*s,3*s);t.t.zigZagDeltaDecode(i,d,w);for(var h=new Float32Array(e.length),y=0;y<s;++y){var k=i[y],v=d[y],l=w[y],A=n.e.lerp(r.west,r.east,k/o),g=n.e.lerp(r.south,r.north,v/o),x=n.e.lerp(u,c,l/o),D=a.t$1.fromRadians(A,g,x,p),I=f.cartographicToCartesian(D,b);a.t.pack(I,h,3*y)}return h}(f,d,y.min,y.max,I),T=E.length/3,U=4*T-4,C=new Float32Array(3*U),F=new Float32Array(3*U),N=new Float32Array(3*U),P=new Float32Array(2*U),L=new Uint16Array(U),R=0,S=0,_=0,G=0,W=i.length;for(D=0;D<W;++D){for(var B=i[D],M=s[D],$=x[D],z=0;z<B;++z){var H;if(0===z){var O=a.t.unpack(E,3*G,k),Y=a.t.unpack(E,3*(G+1),v);H=a.t.subtract(O,Y,l),a.t.add(O,H,H)}else H=a.t.unpack(E,3*(G+z-1),l);var Z,j=a.t.unpack(E,3*(G+z),A);if(z===B-1){var q=a.t.unpack(E,3*(G+B-1),k),J=a.t.unpack(E,3*(G+B-2),v);Z=a.t.subtract(q,J,g),a.t.add(q,Z,Z)}else Z=a.t.unpack(E,3*(G+z+1),g);a.t.subtract(H,m,H),a.t.subtract(j,m,j),a.t.subtract(Z,m,Z);for(var K=z===B-1?2:4,Q=0===z?2:0;Q<K;++Q){a.t.pack(j,C,R),a.t.pack(H,F,R),a.t.pack(Z,N,R),R+=3;var V=Q-2<0?-1:1;P[S++]=Q%2*2-1,P[S++]=V*M,L[_++]=$}}G+=B}var X=r.IndexDatatype.createTypedArray(U,6*T-6),tt=0,at=0;for(W=T-1,D=0;D<W;++D)X[at++]=tt,X[at++]=tt+2,X[at++]=tt+1,X[at++]=tt+1,X[at++]=tt+2,X[at++]=tt+3,tt+=4;return c.push(C.buffer,F.buffer,N.buffer),c.push(P.buffer,L.buffer,X.buffer),{indexDatatype:2===X.BYTES_PER_ELEMENT?r.IndexDatatype.UNSIGNED_SHORT:r.IndexDatatype.UNSIGNED_INT,currentPositions:C.buffer,previousPositions:F.buffer,nextPositions:N.buffer,expandAndWidth:P.buffer,batchIds:L.buffer,indices:X.buffer}}))}));
